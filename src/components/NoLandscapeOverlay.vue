<template>
  <div v-if="isLandscape" class="z-50 fixed inset-0 flex flex-col justify-center items-center gap-2 bg-radial from-80% from-white to-transparent w-screen h-screen">
    <div class="relative">
      <svg
        class="size-14 text-base-700 rotate-infinite" xmlns="http://www.w3.org/2000/svg"
        width="14" height="14" viewBox="0 0 14 14">
        <path
          fill="currentColor" fill-rule="evenodd"
          d="M5.75 7H1.327a.5.5 0 0 1-.384-.82l5-6A.5.5 0 0 1 6.41.007a.75.75 0 0 1 .84.745L7.249 9h6.25a.5.5 0 0 1 .468.676l-1.013 2.702A2.5 2.5 0 0 1 10.614 14H3.386a2.5 2.5 0 0 1-2.34-1.622L.031 9.676A.5.5 0 0 1 .5 9h5.25zm3.631-4.804a.5.5 0 0 0-.896.304v4a.5.5 0 0 0 .5.5h3.07a.5.5 0 0 0 .396-.804z"
          clip-rule="evenodd" />
      </svg>
    </div>
    <span class="font-medium">
      Please rotate your device to portrait mode to play the game.
    </span>
  </div>
</template>

<script setup lang="ts">
const { orientation, angle } = useScreenOrientation()
const isLandscape = computed(() => {
  return orientation.value === 'landscape-secondary' || angle.value === 90 || angle.value === -90
})
</script>

<style lang="css" scoped>
.rotate-infinite {
  animation: rotate-to-portrait 1s alternate infinite;
}
@keyframes rotate-to-portrait {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(-90deg);
  }
}
</style>
